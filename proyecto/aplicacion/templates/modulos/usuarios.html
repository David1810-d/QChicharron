{% extends "layout.html" %}

{% block content %}

<div class="card shadow mb-4">
                        <div class="card-header py-3">
                            <h6 class="m-0 font-weight-bold text-primary">{{titulo}}</h6> 
                            
                        </div>
                        <div class="card-body">
                            <div class="table-responsive">
                                <!--<div id="dataTable_wrapper" class="dataTables_wrapper dt-bootstrap4"><div class="row"><div class="col-sm-12 col-md-6"><div class="dataTables_length" id="dataTable_length"><label>Show <select name="dataTable_length" aria-controls="dataTable" class="custom-select custom-select-sm form-control form-control-sm"><option value="10">10</option><option value="25">25</option><option value="50">50</option><option value="100">100</option></select> entries</label></div></div><div class="col-sm-12 col-md-6"><div id="dataTable_filter" class="dataTables_filter"><label>Search:<input type="search" class="form-control form-control-sm" placeholder="" aria-controls="dataTable"></label></div></div></div><div class="row"><div class="col-sm-12">-->
                                    <table class="table table-bordered dataTable" id="dataTable" width="100%" cellspacing="0" role="grid" aria-describedby="dataTable_info" style="width: 100%;">
                                        <thead>
                                            <tr>
                                                <th>id</th>
                                                <th>nombre</th>
                                                <th>cedula</th>
                                                <th>cargo</th>
                                                <th>correo_electronico</th>
                                                <th>numero_celular</th>
                                                <th>estado</th>
                                                <th>contraseña</th>
                                                <th><a href="{% url 'apl:crear_usuario' %}"><button type="button" class="btn btn-block btn-success btn-lg"><i class="bi bi-plus-circle-fill"></i></button></a></th>
                                            </tr>
                                        </thead>
<tbody>
    {% for u in usuarios %}
    <tr>
        <td>{{ u.id }}</td>
        <td>{{ u.nombre }}</td>
        <td>{{ u.cedula }}</td>
        <td>{{ u.cargo }}</td>
        <td>{{ u.correo_electronico }}</td>
        <td>{{ u.numero_celular }}</td>
        <td>{{ u.estado }}</td>
        <td>{{ u.contraseña }}</td>

        <td>
        <a href="{% url 'apl:editar_usuario' u.id %}"><button type="button" class="btn btn-block btn-warning btn-sm d-inline mb-1 "><i class="bi bi-pen-fill"></i></button></a>
        <a href="{% url 'apl:eliminar_usuario' u.id %}"><button type="button" class="btn btn-block btn-danger btn-sm d-inline mb-1 "><i class="bi bi-trash3-fill"></i></button></a>
        </td>
    </tr>
    {% empty %}
    <tr><td colspan="7">No hay usuarios registrados.</td></tr>
    {% endfor %}
</tbody>
</table>

    <script>
                      $(document).ready(function() {
                        $('#dataTable').DataTable({
                            "language": {
                                "lengthMenu": "Mostrar _MENU_ registros por página",
                                "zeroRecords": "No se encontraron resultados",
                                "info": "Mostrando página _PAGE_ de _PAGES_",
                                "infoEmpty": "No hay registros disponibles",
                                "infoFiltered": "(filtrado de _MAX_ registros totales)",
                                "search": "Buscar:",
                                "paginate": {
                                    "first": "Primero",
                                    "last": "Último",
                                    "next": "Siguiente",
                                    "previous": "Anterior"
                                }
                            }
                        
                        });
                      });
                    </script>

                            </div>
                        </div>
                    </div>

{% endblock %}
